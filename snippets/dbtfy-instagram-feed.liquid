{%- comment -%}Please do not edit this file. Any modification can be lost as it is automatically updated by Debutify{%- endcomment -%}
{%- if settings.dbtfy_instagram_feed -%}
{%- unless template ==  "index" and settings.dbtfy_instagram_hide_home -%}
{%- assign limit = settings.dbtfy_instagram_feed_desktop_grid | times: settings.dbtfy_instagram_feed_rows -%}
{% case settings.dbtfy_instagram_feed_mobile_grid %}
{% when "1" %}
{% assign width_mobile = "small--one-whole" %}
{% when "2" %}
{% assign width_mobile = "small--six-twelfths" %}
{% when "3" %}
{% assign width_mobile = "small--four-twelfths" %}
{% when "4" %}
{% assign width_mobile = "small--three-twelfths" %}
{% endcase %}
{% case settings.dbtfy_instagram_feed_desktop_grid %}
{% when "3" %}
{% assign grid_item_width = "large--four-twelfths medium--four-twelfths " | append: width_mobile %}
{% when "4" %}
{% assign grid_item_width = "large--three-twelfths medium--three-twelfths " | append: width_mobile %}
{% when "6" %}
{% assign grid_item_width = "large--two-twelfths medium--four-twelfths " | append: width_mobile %}
{% when "8" %}
{% assign grid_item_width = "large--one-eighth medium--three-twelfths " | append: width_mobile %}
{% when "10" %}
{% assign grid_item_width = "large--one-tenth medium--one-fifth " | append: width_mobile %}
{% endcase %}
<div class="dbtfy dbtfy-instagram_feed {{ settings.dbtfy_instagram_feed_section_style }}">
  <style>
    {% if settings.dbtfy_instagram_feed_full_width %}
    .dbtfy-instagram_feed .box{
      {% if settings.button_label == blank %}
      padding-bottom: 0px;
      {% endif %}

      {% if settings.dbtfy_instagram_feed_title == blank and settings.dbtfy_instagram_feed_subtitle == blank and settings.dbtfy_instagram_feed_icon == false %}
      padding-top: 0px;
      {% endif %}
    }
    {% endif %}
  </style>
  <script src="{{ 'instafeed.min.js' | asset_url }}" defer="defer"></script>
  <div class="box">
    {% unless settings.dbtfy_instagram_feed_title == blank and settings.dbtfy_instagram_feed_subtitle == blank and settings.dbtfy_instagram_feed_icon == false %}
    <div class="wrapper">
      <div class="grid">
        <div class="grid__item large--eight-twelfths push--large--two-twelfths">
          <div class="section-header">
            {% if settings.dbtfy_instagram_feed_icon %}
            <a href="{{ settings.social_instagram_link }}" target="_blank" class="icon-link-instagram_feed">
              <span class="fab fab fa-instagram fa-2x"></span>
            </a>
            {% endif %}
            {% unless settings.dbtfy_instagram_feed_title == blank %}
            <h2 class="section-header__title">{{ settings.dbtfy_instagram_feed_title | escape }}</h2>
            {% endunless %}
            {% unless settings.dbtfy_instagram_feed_subtitle == blank %}
            <p class="section-header__subtitle">{{ settings.dbtfy_instagram_feed_subtitle | escape }}</p>
            {% endunless %}
          </div>
        </div>
      </div>
    </div>
    {% endunless %}
    <div class="{% if settings.dbtfy_instagram_feed_full_width %}wrapper--full {% else %}wrapper {% endif %}">
      {% if settings.dbtfy_instagram_feed_access_token != blank %}
      <div id="instafeed" class="grid-instagram_feed {% if settings.dbtfy_instagram_feed_full_width %}grid--full {% else %}grid grid--spacer {% endif %} grid-uniform" data-instagram-feed data-accessToken="{{ settings.dbtfy_instagram_feed_access_token }}" data-limit="{{ limit }}" data-sort-images="{{ settings.dbtfy_instagram_feed_sort }}" data-resolution-images="{{ settings.dbtfy_instagram_feed_resolution }}" data-grid-item="{{grid_item_width}}"></div>
      {% else %}
      <div class="grid-instagram_feed {% if settings.dbtfy_instagram_feed_full_width %}grid--full {% else %}grid grid--spacer {% endif %}">
        {% for i in (1..limit) %}
        <div class="grid__item {{ grid_item_width }}">
          {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
          {{ "collection-" | append: current | placeholder_svg_tag: "placeholder-svg" }}
        </div>
        {% endfor %}
        <style>
          .grid-instagram_feed > .grid__item{
            line-height: 0;
          }
        </style>
      </div>
      {% endif %}
    </div>
  </div>
</div>
{%- endunless -%}
{%- endif -%}